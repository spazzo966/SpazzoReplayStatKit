<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Desc>
  <Constant name="SpazzoTopBarBaselineQuestTopOffset" val="53" />
  <Constant name="SpazzoTopBarBaselineQuestLeftOffset" val="57" />
  <Constant name="SpazzoTopBarBaselineQuestRightOffset" val="87" />
  <Constant name="SpazzoTopBarBaselineQuestBottomOffset" val="83" />
  <Constant name="SpazzoTopBarBaselineQuestLeftOffsetNoTalents" val="38" />
  <Constant name="SpazzoTopBarBaselineQuestRightOffsetNoTalents" val="68" />
  <Constant name="SpazzoTopBarBaselineAnchor" val="33" />
  <Constant name="SpazzoTopBarBaselineAnchorNeg" val="-33" />
  <Constant name="SpazzoTopBarBaselineAnchorWide" val="35" />
  <Constant name="SpazzoTopBarBaselineAnchorWideNeg" val="-35" />
  
  <Frame type="Frame" name="TalentTreeBorderTemplate">
    <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
    <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
    <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
    <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
    <Alpha val="255"/>
    <AcceptsMouse val="False"/>
    <AcceptsMouseTooltip val="False"/>
    <RenderPriority val="501"/>
    <Frame type="Image" name="IconBorderImage">
      <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
      <Texture val="_Assets\UI\spaz_ui_talentborder_newer.dds"/>
      <Unclipped val="False"/>
      <IgnoreParentColor val="true" />
      <AcceptsMouse val="False"/>
      <AcceptsMouseTooltip val="False"/>
      <RenderPriority val="501"/>
    </Frame>
  </Frame>
  <Frame type="Frame" name="VisibityControllerFrameHideAtCompletion">
    <Anchor relative="$parent"/>
    <StateGroup name="QuestState">
      <DefaultState val="NoState" />
      <State name="QuestCompleted">
        <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="False" /> 
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="0" /> 
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
      </State>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="VisibityControllerFrameDontHideAtCompletion">
    <Anchor relative="$parent"/>
    <StateGroup name="QuestState">
      <DefaultState val="NoState" />
      <State name="QuestCompleted">
        <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" /> 
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
        <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
      </State>
    </StateGroup>
  </Frame>
  <Frame type="UnitStatusBehaviorIcon" name="UnitStatusBehaviorIconTemplate">
    <Behavior val="NULL" />
    <AcceptsMouse val="false" />
    <Unclipped val="False"/>
    <RenderPriority val="800"/>
    <MinStackCountDisplayed val="0"/>
    <Frame type="BehaviorIcon" name="BehaviorIcon">
      <Anchor relative="$parent" />
      <AcceptsMouse val="false" />
      <MinStackCountDisplayed val="0"/>
      <Frame type="ProgressBar" name="StackProgressBar">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False" />
        <MinValue val="0" />
        <MaxValue val="{$parent/@MaxStackCount}" />
        <Value val="{$parent/@CurrentStackCount}" />
        <Vertical val="True" />
        <AcceptsMouse val="false" />
        <Frame type="Frame" name="FillImageContainer">
          <Anchor relative="$parent" />
          <AcceptsMouse val="false" />
          <Frame type="Image" name="FillImage">
            <Anchor relative="$parent" />
            <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
            <AcceptsMouse val="false" />
          </Frame>
        </Frame>
      </Frame>
      <Frame type="Label" name="StackLabel">
        <Anchor side="Top" relative="$parent" pos="Min" offset="0"/>
        <Anchor side="Left" relative="$parent" pos="Min" offset="0"/>
        <Anchor side="Right" relative="$parent" pos="Max" offset="0"/>
        <Anchor side="Bottom" relative="$parent" pos="Max" offset="2"/>
        <SnapToDevicePixels val="true"/>
        <Style val="Spazzo_TopPanelQuestLabel" />
        <Options val="ScaleToPreventTruncation" />
        <MinStackCountDisplayed val="0"/>
        <AcceptsMouse val="false" />
        <RenderPriority val="999"/>
        <Text val="0"/>
      </Frame>
    </Frame>
    <Frame type="Frame" name="VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameHideAtCompletion">
      <StateGroup name="QuestState">
        <DefaultState val="NoState" />
        <State name="QuestCompleted">
          <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="False" /> 
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="0" /> 
        </State>
        <State name="NoState">
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
        </State>
      </StateGroup>
    </Frame>
  </Frame>
  <Frame type="UnitStatusBehaviorIcon" name="UnitStatusBehaviorIconDurationTemplate">
    <Behavior val="NULL" />
    <AcceptsMouse val="false" />
    <Unclipped val="False"/>
    <RenderPriority val="800"/>
    <MinStackCountDisplayed val="0"/>
    <Frame type="BehaviorIcon" name="BehaviorIcon">
      <Anchor relative="$parent" />
      <AcceptsMouse val="false" />
      <MinStackCountDisplayed val="0"/>
      <Frame type="ProgressBar" name="CooldownBar">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False" />
        <AcceptsMouseTooltip val="False"/>
        <Circular val="True" />
        <CircularStart val="0" />
        <CircularEndOffset val="360" />
        <Frame type="Frame" name="FillImageContainer">
          <Anchor relative="$parent" />
          <AcceptsMouse val="false" />
          <Frame type="Image" name="FillImage">
            <Anchor relative="$parent" />
            <TextureType val="Circular" />
            <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
            <AcceptsMouse val="false" />
            <AdjustmentColor val="255,200,200,200"/>
            <Alpha val="130" />
            <ColorAdjustMode val="Fill" /> 
          </Frame>
        </Frame>
      </Frame>
    </Frame>
    <Frame type="Frame" name="VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameHideAtCompletion">
      <StateGroup name="QuestState">
        <DefaultState val="NoState" />
        <State name="QuestCompleted">
          <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="False" /> 
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="0" /> 
        </State>
        <State name="NoState">
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
        </State>
      </StateGroup>
    </Frame>
  </Frame>
  <Frame type="UnitStatusBehaviorIcon" name="UnitStatusBehaviorLoanIconTemplate">
    <Behavior val="NULL" />
    <AcceptsMouse val="false" />
    <Unclipped val="False"/>
    <RenderPriority val="800"/>
    <MinStackCountDisplayed val="0"/>
    <Frame type="BehaviorIcon" name="BehaviorIcon">
      <Anchor relative="$parent" />
      <AcceptsMouse val="false" />
      <MinStackCountDisplayed val="0"/>
      <Frame type="ProgressBar" name="StackProgressBar">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False" />
        <MinValue val="0" />
        <MaxValue val="{$parent/@MaxStackCount}" />
        <Value val="{$parent/@CurrentStackCount}" />
        <Vertical val="True" />
        <InvertFill val="True"/>
        <AcceptsMouse val="false" />
        <Frame type="Frame" name="FillImageContainer">
          <Anchor relative="$parent" />
          <AcceptsMouse val="false" />
          <Frame type="Image" name="FillImage">
            <Anchor relative="$parent" />
            <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
            <AdjustmentColor val="255,210,23,23" /> 
            <Alpha val="130" /> 
            <ColorAdjustMode val="Fill" /> 
            <AcceptsMouse val="false" />
          </Frame>
        </Frame>
      </Frame>
    </Frame>
    <Frame type="Frame" name="VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameHideAtCompletion">
      <StateGroup name="QuestState">
        <DefaultState val="NoState" />
        <State name="QuestCompleted">
          <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="False" /> 
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="0" /> 
        </State>
        <State name="NoState">
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
          <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
        </State>
      </StateGroup>
    </Frame>
  </Frame>
  <Frame type="Frame" name="BaselineQuestContainerFrameTemplate">
    <!-- <Height val="42"/>
    <Width val="42"/> -->
    <Batch val="True"/>
    <AcceptsMouse val="False"/>
    <AcceptsMouseTooltip val="False"/>
    <StateGroup name="BaselineType">
      <State name="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      <State name="HasTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      <State name="DoesNotHaveTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      <State name="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      <State name="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      <State name="DoesNotHaveTokenDoesHaveDurationHasAbilityDoesNotHaveCharge"/>
      <State name="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      <State name="DoesNotHaveTokenDoesNotHaveDurationDoesHaveAbilityDoesHaveCharge"/>
      <State name="HasNone"/>
    </StateGroup>
    <StateGroup name="T0TalentState">
      <DefaultState val="NoState" />
      <State name="Azmodan">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroAzmodan"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="AzmodanGlobeOfAnnihilationTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_azmodan_globeofannihilation.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />  
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/AzmodanGlobeOfAnnihilationToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Butcher">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroButcher"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ButcherFreshMeatTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="200"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_butcher_freshmeat.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />  
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ButcherFreshMeat" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Diablo">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDiablo"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="DiabloBlackSoulstoneTokenCounter" />
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_diablo_blacksoulstone_var1.dds" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/DiabloBlackSoulstoneToken" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Jaina">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroJaina"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="JainaFrostbiteTokenCounter" />
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabelSmall" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_jaina_frostbite.dds" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/JainaTraitFrostbite" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="LostVikings">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroOlaf"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="LostVikingsVikingHoardTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_LostVikings_VikingHoard.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/LostVikingsVikingHoardTokenCounter" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Nova">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroNova"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NovaPrecisionSniperTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_nova_snipe.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/NovaPrecisionSniperTabScreen" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="WitchDoctor">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroWitchDoctor"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="WitchDoctorVoodooRitualTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_nazeebo_voodooritual.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/WitchDoctorVoodooRitualToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Kelthuzad">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroKelThuzad"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="KelThuzadMasterOfTheColdDarkToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_kel'thuzad_powerofthecolddark.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="@Button/SimpleDisplayText/KelThuzadMasterOfTheColdDarkQuestToken" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/KelThuzadMasterOfTheColdDarkQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Medivh">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMedivh"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_medivh_arcanemissile.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="@Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="MedivhRaven">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMedivhRaven"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_medivh_arcanemissile.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinBerserkerActive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="ZuljinBerserkerCasterHasBerserkerBuff"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ZuljinYouWantAxeQuestMainToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="30"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_zuljin_berzerker_off.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinCancelBerserkerYouWantAxe" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinBerserkerInactive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="NoState"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ZuljinYouWantAxeQuestMainToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="30"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_zuljin_berzerker.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinBerserkerYouWantAxe" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinNoBuffs">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ZuljinYouWantAxeQuestMainToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="30"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_talent_seasonedmarksman.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinYouWantAxe" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinBerserkerOnlyActive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="ZuljinBerserkerCasterHasBerserkerBuff"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_zuljin_berzerker_off.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinCancelBerserker" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinBerserkerOnlyInactive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="NoState"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_zuljin_berzerker.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinBerserker" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Alarak">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroAlarak"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowQuests/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="AlarakSadismToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_alarak_sadism.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/AlarakSadism" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <!-- <State name="Muradin">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMuradin"/>
        <When type="Property" frame="$TopBarSettingsFrame/ShowBaselineTalents" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MuradinItsHammerTimeTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_muradin_stormbolt.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MuradinStormBoltItsHammerTimeToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State> -->
      <State name="Thrall">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroThrall"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ThrallFrostwolfResilienceStack" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="NonQuest" />
        <!-- <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/> -->
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_thrall_frostwolfresilience.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ThrallFrostwolfResilience" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Orphea">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroOrphea"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="OrpheaOverflowingChaosToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="NonQuest" />
        <!-- <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/> -->
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_orphea_trait.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/OrpheaOverflowingChaos" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Valla">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDemonHunter"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NewHatredStack" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="NonQuest" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_valla_hatred.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DemonHunterHatred" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NewHatredDurationController" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Valeera">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroValeera"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ValeeraComboPointsToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="NonQuest" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_valeera_eviscerate.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ValeeraComboPoints" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="ValeeraInCombatComboPoints" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Tassadar">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroTassadar"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="TassadarResonanceBeamTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="NonQuest" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_tassadar_rework_trait.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/TassadarResonanceBeam" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="TassadarResonanceBeamTokenResetTimer" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="FaerieDragonActiveOnly">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroFaerieDragon"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="BrightwingCalmingMist" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_brightwing_soothingmist.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/BrightwingSoothingMistCalmingMist" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="FaerieDragonBuffOnly">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroFaerieDragon"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_brightwing_soothingmist.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/BrightwingSoothingMistCalmingMistPassive" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="BrightwingSoothingMistCooldown" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="FaerieDragonBoth">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroFaerieDragon"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_brightwing_soothingmist.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="BrightwingCalmingMist" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/BrightwingSoothingMist" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="BrightwingSoothingMistCooldown" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="GallOgreRageActive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroGall"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="GallHasOgreRageSpellDamageBuff"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="GallOgreRage" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_gall_ogrerage.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/GallOgreRageActivated" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/> 
      </State>
      <State name="GallOgreRageInactive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroGall"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="NoState"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="GallOgreRage" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_cho_ogrehide.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/GallOgreRagePassive" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ChoOgreHideActive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroCho"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="ChoHasOgreHideArmorBuff"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="ChoOgreHide" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_cho_ogrehide.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ChoOgreHideActivated" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ChoOgreHideInactive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroCho"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="NoState"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="ChoOgreHide" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_gall_ogrerage.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ChoOgreHidePassive" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="SgtHammerSiegeModeActive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroSgtHammer"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="SourceIsSieged"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="SgtHammerTankMode" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_sgthammer_siegemode.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/SgtHammerTankMode" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="SgtHammerSiegeModeInactive">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroSgtHammer"/>
        <When type="StateGroup" frame="$ancestor[@type=UnitStatusFrame]/BaselineActiveValidatorFrame" operator="Equal" AnimState="NoState"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="SgtHammerSiegeMode" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_sgthammer_tankmode.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/SgtHammerSiegeMode" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Probius">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroProbius"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="ProbiusWarpInPylon" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_probius_warpinpylon.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ProbiusWarpInPylon" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Rehgar">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroRehgar"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="RehgarPurge" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_rehgar_purge.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/RehgarPurge" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="SamuroDummyState">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroSamuro"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="False" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="False" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasNone"/>
      </State>
      <State name="RexxarDummyState">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroRexxar"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="False" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="False" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasNone"/>
      </State>
      <State name="DeathwingHeroicAvailableForChoice">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDeathwing"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierAvailable"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DeathwingCataclysm" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DeathwingCataclysm" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="DeathwingNoHeroicAvailable">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDeathwing"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierNotAvailable"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DeathwingCataclysm" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DeathwingCataclysm" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="DeathwingHeroicHidden">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDeathwing"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierHidden"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DeathwingCataclysm" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DeathwingCataclysm" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="DeathwingBellowingRoarSelected">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDeathwing"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" texture="Assets\Textures\storm_ui_icon_deathwing_bellowing_roar.dds"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DeathwingCataclysm" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DeathwingCataclysm" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="DeathwingNoCataclysm">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDeathwing"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="NotEqual" texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DeathwingCataclysm" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_deathwing_cataclysm.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DeathwingCataclysm" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Abathur">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroAbathur"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="AbathurSpawnLocusts" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_abathur_spawnlocust.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/AbathurSpawnLocusts" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="TracerSelectedNotInUse">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroTracer"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroicAnchorFrame" UseState="NotInUse" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierSelected"/>
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="{$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage/@Texture}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/TracerPulseBomb" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="TracerSelected">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroTracer"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroicAnchorFrame" UseState="InUse" />
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="Equal" TextureState="TierSelected"/>
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" Alpha="180" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="{$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage/@Texture}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/TracerPulseBomb" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="TracerNotSelected">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroTracer"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" operator="NotEqual" TextureState="TierSelected"/>
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/TracerPulseBomb" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_tracer_pulsebomb.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/TracerPulseBomb" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="HeroDVaMech">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDVaMech"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="DVaMechSelfDestruct" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/DVaMechSelfDestruct" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Player" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargeFillProgress/FillImageContainer/FillImage" AdjustmentColor="FF69B4" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargeFillProgress/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_dva_selfdestruct.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DVaMechSelfDestruct" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="HeroDVaPilot">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDVaPilot"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="DVaMechSelfDestruct" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/DVaMechSelfDestruct" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Player" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargeFillProgress/FillImageContainer/FillImage" AdjustmentColor="FF69B4" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargeFillProgress/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_dva_selfdestruct.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DVaMechSelfDestruct" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesNotHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="HeroDehaka">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDehaka"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="DehakaEssenceCollection" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="DehakaEssenceCollection" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="Abil/DehakaEssenceCollection" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargesLabel" side="Top" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargesLabel" side="Left" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargesLabel" side="Right" relative="$parent" pos="Max" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargesLabel" side="Bottom" relative="$parent" pos="Max" offset="0" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargesLabel" Style="Spazzo_TopPanelAbilChargeLabelBaseline" /> 
        <Action type="SetProperty" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" Visible="False" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" side="Top" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" side="Left" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" side="Right" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/AbilChargeBackgroundImage" side="Bottom" relative="$parent" pos="Min" offset="0" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame/ChargeFillProgress" Visible="False" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargeFillProgress" side="Top" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargeFillProgress" side="Left" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargeFillProgress" side="Right" relative="$parent" pos="Min" offset="0" />
        <Action type="SetAnchor" frame="$this/UnitChargeFrame/ChargeFillProgress" side="Bottom" relative="$parent" pos="Min" offset="0" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_dehaka_essencecollection.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/DehakaEssenceCollection" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationDoesHaveAbilityDoesHaveCharge"/>
      </State>
      <State name="ChenActiveOnly">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroChen"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="ChenFortifyingBrew" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_chen_fortifyingbrew.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ChenFortifyingBrew" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ChenBuffOnly">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroChen"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_chen_fortifyingbrew.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ChenFortifyingBrew" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="ChenFortifyingBrewController" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ChenBoth">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroChen"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_chen_fortifyingbrew.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="ChenFortifyingBrew" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ChenFortifyingBrew" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="ChenFortifyingBrewController" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="TLVGoGoGo">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroLostVikingsController"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$Talent0MasterSetting/ShowActives/CheckBoxButton" Toggled="True"/>
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="LostVikingsGoGoGo" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_lostvikings_64kbmarathon.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/LostVikingsGoGoGo" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenDoesNotHaveDurationHasAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Kerrigan">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroKerrigan"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_kerrigan_assimilation.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/KerriganAssimilation" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="KerriganAssimilationShield" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="Lucio">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroLucio"/>
        <When type="Property" frame="$Talent0MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" /> 
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_lucio_wallride.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="{$Talent0MasterSetting/ShowAbilBackings/CheckBoxButton/@Toggled}" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/LucioWallRide" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar" Behavior="LucioWallRideSpeed" />
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$this/CircularBehaviorCountdownBar/BehaviorIcon/CooldownBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="DoesNotHaveTokenHasDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="AzmodanForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroAzmodan"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="AzmodanGlobeOfAnnihilationTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_azmodan_globeofannihilation.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />  
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/AzmodanGlobeOfAnnihilationToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ButcherForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroButcher"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ButcherFreshMeatTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="200"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_butcher_freshmeat.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />  
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ButcherFreshMeat" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
          <!-- <Action type="SendEvent" frame="$parent" event="ButchInit" on="Enter" /> -->
      </State>
      <State name="DiabloForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroDiablo"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="DiabloBlackSoulstoneTokenCounter" />
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_diablo_blacksoulstone_var1.dds" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/DiabloBlackSoulstoneToken" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="JainaForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroJaina"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="JainaFrostbiteTokenCounter" />
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_jaina_frostbite.dds" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" />
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" />
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/JainaTraitFrostbite" />
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="NovaBottomForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroNova"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NovaPrecisionSniperTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_nova_snipe.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/NovaPrecisionSniperTabScreen" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="WitchDoctorForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroWitchDoctor"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="WitchDoctorVoodooRitualTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_nazeebo_voodooritual.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/WitchDoctorVoodooRitualToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="KelthuzadForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroKelThuzad"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="KelThuzadMasterOfTheColdDarkToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_kel'thuzad_powerofthecolddark.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="@Button/SimpleDisplayText/KelThuzadMasterOfTheColdDarkQuestToken" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/KelThuzadMasterOfTheColdDarkQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="MedivhForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMedivh"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_medivh_arcanemissile.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="@Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="MedivhRavenForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMedivhRaven"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_medivh_arcanemissile.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MedivhArcaneRiftTheMastersTouchQuestToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="ZuljinForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroZuljin"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ZuljinYouWantAxeQuestMainToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="$this/UnitStatusBehaviorIconBaselineQuest/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/DummyStackProgressBar" MaxValue="30"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_talent_seasonedmarksman.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ZuljinYouWantAxe" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <State name="AlarakForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroAlarak"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="AlarakSadismToken" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_alarak_sadism.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/AlarakSadism" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State>
      <!-- <State name="MuradinForceDisplay">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroMuradin"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="MuradinItsHammerTimeTokenCounter" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_muradin_stormbolt.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/SimpleDisplayText/MuradinStormBoltItsHammerTimeToken" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasTokenDoesNotHaveDurationDoesNotHaveAbilityDoesNotHaveCharge"/>
      </State> -->
      <!-- <State name="Necromancer">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" unit="HeroNecromancer"/>
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="ThrallFrostwolfResilienceStack" /> 
        <Action type="SetState" frame="$this/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel" Group="LabelStateGroup" State="QuestLabel" />
        <Action type="ApplyTemplate" frame="VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$this/BehaviorImage" Texture="Assets\Textures\storm_ui_icon_thrall_frostwolfresilience.dds" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="True" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="True" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage" Tooltip="{$this/TFFrame/@Text}" /> 
        <Action type="SetProperty" frame="$this/BehaviorImage/TFFrame" FormatText="@Spazzo/Button/Tooltip/ThrallFrostwolfResilience" /> 
      </State> -->
      <State name="NoState">
        <Action type="SetProperty" frame="$this/UnitAbilFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitStatusBehaviorIconBaselineQuest" Behavior="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" AbilityLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLink="NULL" />
        <Action type="SetProperty" frame="$this/UnitChargeFrame" ChargeLocation="Unit" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder" Visible="False" /> 
        <Action type="SetProperty" frame="$this/TalentTreeBorder/IconBorderImage" Visible="False" /> 
        <Action type="SetState" frame="$this" Group="BaselineType" State="HasNone"/>
      </State>
    </StateGroup>
    <Frame type="UnitStatusBehaviorIcon" name="UnitStatusBehaviorIconBaselineQuest">
      <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="-1" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="1" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
      <Behavior val="NULL" />
      <Unclipped val="False"/>
      <RenderPriority val="800"/>
      <AcceptsMouse val="False"/>
      <AcceptsMouseTooltip val="False"/>
      <Frame type="BehaviorIcon" name="BehaviorIcon">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
        <Frame type="ProgressBar" name="StackProgressBar">
          <Anchor relative="$INVALID" />
          <AcceptsMouse val="False" />
          <MinValue val="0" />
          <MaxValue val="{$parent/@MaxStackCount}" />
          <Value val="{$parent/@CurrentStackCount}" />
          <Vertical val="True" />
          <RenderPriority val="600"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <Frame type="Frame" name="FillImageContainer">
            <Anchor relative="$parent" />
            <AcceptsMouse val="False"/>
            <AcceptsMouseTooltip val="False"/>
            <RenderPriority val="600"/>
            <Frame type="Image" name="FillImage">
              <Anchor relative="$parent" />
              <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
              <AcceptsMouse val="False"/>
              <AcceptsMouseTooltip val="False"/>
              <RenderPriority val="600"/>
            </Frame>
          </Frame>
        </Frame>
        <Frame type="ProgressBar" name="DummyStackProgressBar">
          <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
          <Anchor side="Left" relative="$parent" pos="Min" offset="1" />
          <Anchor side="Right" relative="$parent" pos="Max" offset="-1" />
          <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
          <AcceptsMouse val="False" />
          <MinValue val="0" />
          <MaxValue val="{$parent/StackProgressBar/@MaxValue}" />
          <Value val="{$parent/StackProgressBar/@Value}" />
          <Vertical val="True" />
          <RenderPriority val="600"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <Frame type="Frame" name="FillImageContainer">
            <Anchor relative="$parent" />
            <AcceptsMouse val="False"/>
            <AcceptsMouseTooltip val="False"/>
            <RenderPriority val="600"/>
            <Frame type="Image" name="FillImage">
              <Anchor relative="$parent" />
              <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
              <AcceptsMouse val="False"/>
              <AcceptsMouseTooltip val="False"/>
              <RenderPriority val="600"/>
            </Frame>
          </Frame>
        </Frame>
        <Frame type="Label" name="StackLabel">
          <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
          <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
          <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
          <Anchor side="Bottom" relative="$parent" pos="Max" offset="2" />
          <Style val="Spazzo_TopPanelQuestLabel_Baseline" />
          <MinStackCountDisplayed val="0"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <RenderPriority val="999"/>
          <Text val="0"/>
          <StateGroup name="LabelStateGroup">
            <DefaultState val="QuestLabel" />
            <State name="QuestLabel"/>
            <State name="QuestLabelSmall"/>
            <State name="NonQuest"/>
          </StateGroup>
          <StateGroup name="TrueLabelStateGroup">
            <State name="QuestLabelSmallCompact">
              <When type="StateGroup" frame="$TopBarSettingsFrame/LayoutPulldown1" operator="Equal" SelectedValue="2"/>
              <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
              <When type="StateGroup" frame="$this" LabelStateGroup="QuestLabelSmall"/>
              <Action type="SetProperty" frame="$this" style="Spazzo_TopPanelQuestLabel_Baseline_Extrasmall" />
            </State>
            <State name="QuestLabel">
              <When type="StateGroup" frame="$this" LabelStateGroup="QuestLabel"/>
              <Action type="SetProperty" frame="$this" style="Spazzo_TopPanelQuestLabel_Baseline" />
            </State>
            <State name="QuestLabelSmall">
              <When type="StateGroup" frame="$this" LabelStateGroup="QuestLabelSmall"/>
              <Action type="SetProperty" frame="$this" style="Spazzo_TopPanelQuestLabel_Baseline_Small" />
            </State>
            <State name="NonQuest">
              <When type="StateGroup" frame="$this" LabelStateGroup="NonQuest"/>
              <Action type="SetProperty" frame="$this" style="Spazzo_TopPanelQuestLabel_Baseline_NotQuest" />
            </State>
          </StateGroup>
        </Frame>
      </Frame>
      <Frame type="Frame" name="VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameHideAtCompletion">
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
        <StateGroup name="QuestState">
          <DefaultState val="NoState" />
          <State name="QuestCompleted">
            <When type="Property" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackProgressBar" ProgressPercent="1.0"/>
            <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="False" /> 
            <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="0" /> 
          </State>
          <State name="NoState">
            <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Visible="True" />
            <Action type="SetProperty" frame="$ancestor[@type=UnitStatusBehaviorIcon]/BehaviorIcon/StackLabel" Alpha="255" /> 
          </State>
        </StateGroup>
      </Frame>
    </Frame>
    <Frame type="UnitStatusBehaviorIcon" name="CircularBehaviorCountdownBar">
      <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
      <RenderPriority val="852" />
      <Behavior val="NULL"/>
      <Frame type="BehaviorIcon" name="BehaviorIcon">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False" />
        <Frame type="ProgressBar" name="CooldownBar">
          <Anchor relative="$parent" />
          <AcceptsMouse val="False" />
          <RenderPriority val="600"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <Circular val="True" />
          <CircularStart val="0" />
          <CircularEndOffset val="360" />
          <Frame type="Frame" name="FillImageContainer">
            <Anchor relative="$parent" />
            <AcceptsMouse val="False"/>
            <AcceptsMouseTooltip val="False"/>
            <RenderPriority val="603"/>
            <Frame type="Image" name="FillImage">
              <Anchor relative="$parent" />
              <Texture val="_Assets\UI\spaz_ui_talentborder_newer_quest.dds" />
              <TextureType val="Circular" />
              <RenderPriority val="604"/>
              <AcceptsMouse val="False"/>
              <AcceptsMouseTooltip val="False"/>
            </Frame>
          </Frame>
        </Frame>
      </Frame>
    </Frame>
    <Frame type="UnitStatusAbilIcon" name="UnitAbilFrame">
      <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
      <!-- <Height val="28"/>
      <Width val="28"/> -->
      <AbilityLink val="NULL" />
      <CollapseLayout val="True" />
      <AcceptsMouse val="False"/>
      <AcceptsMouseTooltip val="False"/>
      <RenderPriority val="851" />
      <Frame type="AbilIcon" name="AbilIcon">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
        <RenderPriority val="600"/>
        <Frame type="ProgressBar" name="CooldownBar">
          <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
          <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
          <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
          <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
          <!-- <Height val="28"/>
          <Width val="28"/> -->
          <RenderPriority val="600"/>
          <Alpha val="140" />
          <MinValue val="0" />
          <MaxValue val="100" />
          <Circular val="true" />
          <CircularStart val="0" />
          <CircularEndOffset val="360" />
          <InvertFill val="True" />
          <Unclipped val="false"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <Frame type="Frame" name="FillImageContainer">
            <Anchor relative="$parent" />
            <!-- <Height val="28"/>
            <Width val="28"/> -->
            <Frame type="Image" name="FillImage">
              <Anchor relative="$parent" />
              <!-- <Height val="28"/>
              <Width val="28"/> -->
              <RenderPriority val="601"/>
              <LayerCount val="2" />
              <LayerColor val="000000" layer="0" />
              <TextureType val="None" layer="0" />
              <Texture val="@UI/Storm_UI_GenFX_BallAlpha" layer="1" />
              <TextureCoords top=".145" left=".145" bottom=".855" right=".855" layer="1" />
              <TextureType val="Circular" layer="1" />
              <LayerColor val="00BBFF" layer="1" />
              <Unclipped val="false"/>
              <AcceptsMouse val="False"/>
              <AcceptsMouseTooltip val="False"/>
            </Frame>
          </Frame>
          <Frame type="Image" name="EndCapImage">
            <Anchor relative="$parent" />
            <!-- <Height val="28"/>
            <Width val="28"/> -->
            <RenderPriority val="602"/>
            <Texture val="@UI/HUD_BTN_Ability_Cooldown_Endcap" layer="0" />
            <LayerColor val="00BBFF" layer="0" />
            <Unclipped val="false"/>
            <AcceptsMouse val="False"/>
            <AcceptsMouseTooltip val="False"/>
          </Frame>
        </Frame>
        <Frame type="Label" name="CooldownLabel">
          <Anchor side="Top" relative="$parent" pos="Min" offset="-1"/>
          <Anchor side="Left" relative="$parent" pos="Min" offset="-1"/>
          <Anchor side="Right" relative="$parent" pos="Max" offset="1"/>
          <Anchor side="Bottom" relative="$parent" pos="Max" offset="1"/>
          <!-- <Height val="28"/>
          <Width val="28"/> -->
          <Style val="Spazzo_TopPanelAbilCooldownLabel" />
          <RenderPriority val="751"/>
          <Options val="ScaleToPreventTruncation" />
          <Unclipped val="false"/>
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <SnapToDevicePixels val="true"/>
        </Frame>
      </Frame>
    </Frame>
    <Frame type="UnitStatusAbilCharge" name="UnitChargeFrame">
      <Anchor side="Top" relative="$parent" pos="Min" offset="1" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="1" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="-1" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="-1" />
      <AcceptsMouse val="False"/>
      <AcceptsMouseTooltip val="False"/>
      <RenderPriority val="801" />
      <!-- <AbilityLink val="DVaMechSelfDestruct" /> -->
      <!-- <ChargeLink val="Abil/DVaMechSelfDestruct" /> -->
      <!-- <ChargeLocation val="Player" /> -->
      <SendChargesEmptyAnimEvent val="True" />
      <SendChargesFullAnimEvent val="True" />
      <SendCurrentChangedAnimEvent val="True" />
      <SendMaxChangedAnimEvent val="True" />
      <Frame type="Image" name="AbilChargeBackgroundImage">
        <Anchor relative="$parent" />
        <Texture val="_Assets\UI\spaz_ui_hud_fancycharge_bg.dds" />
        <RenderPriority val="500" />
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
      </Frame>
      <Frame type="ProgressBar" name="ChargeFillProgress">
        <Anchor relative="$parent" />
        <AcceptsMouse val="False" />
        <RenderPriority val="512" />
        <FillInset val="0.0" />
        <Circular val="True" />
        <CircularStart val="0" />
        <CircularEndOffset val="360" />
        <MinValue val="0" />
        <MaxValue val="100" />
        <Value val="50" />
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
        <Frame type="Frame" name="FillImageContainer">
          <Anchor relative="$parent" />
          <AcceptsMouse val="False"/>
          <AcceptsMouseTooltip val="False"/>
          <Frame type="Image" name="FillImage">
            <Anchor relative="$parent" />
            <Texture val="_Assets\UI\spaz_ui_hud_fancycharge_fill.dds" />
            <AcceptsMouse val="False"/>
            <AcceptsMouseTooltip val="False"/>
            <!-- <AdjustmentColor val="FF69B4" /> -->
            <!-- <ColorAdjustMode val="Fill" /> -->
            <TextureType layer="0" val="Circular" />
          </Frame>
        </Frame>
      </Frame>
      <Frame type="Label" name="ChargesLabel">
        <Anchor side="Top" relative="$parent" pos="Mid" offset="0" />
        <Anchor side="Left" relative="$parent" pos="Mid" offset="0" />
        <Anchor side="Bottom" relative="$parent" pos="Mid" offset="0" />
        <Anchor side="Right" relative="$parent" pos="Mid" offset="0" />
        <Style val="Spazzo_TopPanelFancyCharge" />
        <AcceptsMouse val="False"/>
        <AcceptsMouseTooltip val="False"/>
      </Frame>
      <Animation name="Show/HideProgressBarAnims">
        <Event event="ChargesFull" action="Restart, DirectionForward, Play" />
        <Event event="ChargesEmpty" action="Stop" />
        <Event event="CurrentChanged_1" action="Stop" />
        <Controller type="Visibility" end="Pause" frame="AbilChargeBackgroundImage">
          <Key type="Bool" time="0" value="False" />
        </Controller>
        <Controller type="Visibility" end="Pause" frame="ChargeFillProgress/FillImageContainer">
          <Key type="Bool" time="0" value="False" />
        </Controller>
        <Controller type="Visibility" end="Pause" frame="ChargesLabel">
          <Key type="Bool" time="0" value="False" />
        </Controller>
        <Controller type="Visibility" end="Pause" Frame="ChargePercentLabel">
          <Key type="Bool" time="0" value="False" />
        </Controller>
        <Controller type="Visibility" end="Pause" frame="PulseBombReadyPingImage">
          <Key type="Bool" time="0" value="True" />
        </Controller>
      </Animation>
    </Frame>
    <Frame type="Image" name="BehaviorImage">
      <Anchor side="Top" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Left" relative="$parent" pos="Min" offset="0" />
      <Anchor side="Right" relative="$parent" pos="Max" offset="0" />
      <Anchor side="Bottom" relative="$parent" pos="Max" offset="0" />
      <RenderPriority val="400"/>
      <Visible val="False"/>
      <AcceptsMouse val="False"/>
      <AcceptsMouseTooltip val="{$Talent0MasterSetting/ShowTooltips/CheckBoxButton/@Toggled}"/>
      <Tooltip val="ReplaceThisText"/>
      <TooltipAnchorPosition val="BottomLeft" />
      <!-- <Tooltip val="{$this/TFFrame/@Text}" /> -->
      <Frame type="TextFormatFrame" name="TFFrame">
        <Anchor relative="$parent" />
        <FormatText val="@Spazzo/Button/SimpleDisplayText/MuradinStormBoltItsHammerTimeToken" />
        <Replacement index="0" val="{$ancestor[@name=DummyAncestorRelationFrame]/$parent/PlayerHeroNameFrameTemplate/@PlayerId}" />
        <ReplacedName index="0" val="playernum" />
      </Frame>
    </Frame>
    <Frame type="Frame" name="TalentTreeBorder" template="SpazzoCustomTopBarQuests/TalentTreeBorderTemplate">
      <RenderPriority val="850"/>
      <Visible val="False"/>
      <Frame type="Image" name="IconBorderImage">
        <RenderPriority val="550"/>
        <IgnoreParentColor val="true" />
        <Visible val="False"/>
      </Frame>
    </Frame>
    <!-- <Frame type="Label" name="StackDummy">
      <Anchor relative="$parent/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel"/>
      <SnapToDevicePixels val="true"/>
      <Style val="Spazzo_TopPanelQuestLabel_Baseline" />
      <Height val="37"/>
      <Width val="37"/>
      <Options val="ScaleToPreventTruncation" />
      <AcceptsMouse val="false" />
      <Text val="{$parent/UnitStatusBehaviorIconBaselineQuest/BehaviorIcon/StackLabel/@Text}"/>
    </Frame> -->
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT1">
    <Anchor relative="$parent"/>
    <StateGroup name="T1TalentState">
      <DefaultState val="NoState" />
      <State name="JourneymanCooking">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_hogger_w.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="HoggerEzThroDynamiteJourneymanCookingTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FatalWounds">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_nexushunter_w.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NexusHunterFatalWoundsToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="GrowingNightmare">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_orphea_e.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="OrpheaDreadGrowingNightmareQuestCompleteTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="UnyieldingPower">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_mephisto_skull.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MephistoSkullMissileUnyieldingPowerQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="InquisitorsPrayer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_whitemane_lash_alt_1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="WhitemaneInquisitorsPrayerQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ScrollofIdentify">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_deckard_scroll_of_sealing.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DeckardScrollOfIdentifyToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="AdvancedTargeting">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_fenix_q.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FenixPlasmaCutterAdvancedTargetingQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="BondsofJustice">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_maiev_umbra_1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MaievUmbralBindBondsOfJusticeQuestToken" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" MaxValue="10" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="NewHabits">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_blaze_new_habits.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FirebatNewHabitsQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="TargetPractice">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_hanzo_stormbow.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="HanzoTargetPracticeTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SimpleGeometry">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_hanzo_redemption.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="HanzoRedemptionTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Redemption">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_hanzo_scatterarrow.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="HanzoSimpleGeometryTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FlameBuffet">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_alexstrasza_flame_buffet.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AlexstraszaFlamesOfFuryFlameBuffetQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Abundance">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_alexstrasza_abundance.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AlexstraszaCircleOfLifeAbundanceQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="VampiricRounds">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_ana_shrike.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AnaShrikeVampiricRoundsTokenCounter" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Warbreaker">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_garrosh_groundbreaker.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="GarroshGroundbreakerWarbreakerQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FetidTouch">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_stukov_weightedpustule.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="StukovWeightedPustuleFetidTouchQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Thunderstroke">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_cassia_lightningfury.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AmazonLightningFuryThunderstrokeQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="WarpResonance">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_probius_warprift.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ProbiusWarpRiftWarpResonanceQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="GatherMinerals">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_probius_photoncannon.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ProbiusPhotonCannonGatherMineralsQuestTokenFXController" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PartyMix">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Lucio_Crossfade_All.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="LucioCrossfadePartyMixQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Vigor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroValeera"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_conjurerspursuit.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ValeeraVigorQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Subtlety">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_valeera_vanish.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="ValeeraSubtletyEnergyRegeneration" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="HeadHunter">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_zuljin_headhunter.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ZuljinHeadhunterQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SulfurasHungers">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_ragnaros_empowersulfuras.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="RagnarosEmpowerSulfurasSulfurasHungersTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ShiftingMeteor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_ragnaros_livingmeteor.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="RagnarosLivingMeteorShiftingMeteorTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="LionsMaw">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_varian_lionsfang.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="VarianLionsFangLionsMawQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="HighKingsQuest">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_varian_highkingsquest.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="VarianHighKingsQuestMasterQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="WayofIllusion">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_samuro_mirrorimage.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="SamuroMirrorImageWayOfIllusionQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="MaximumCharge">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Zarya_Energy.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ZaryaEnergyMaximumChargeQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ExtendedLightning">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_lightningsurge.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AlarakLightningSurgeExtendedLightningMasterQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="OverwhelmingPower">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_discordstrike.dds"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="AlarakOverwhelmingPowerDiscordStrikeBuffBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="IncreasingClarity">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_auriel_angelicsweep_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AurielSacredSweepIncreasingClarityQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PursuitofFlame">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_guldan_felflame.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="GuldanFelFlamePursuitOfFlameQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ChaoticEnergy">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_guldan_healthfunnel.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="GuldanChaoticEnergyQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="EchoedCorruption">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_guldan_handofguldan.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="GuldanCorruptionEchoedCorruptionQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="OnceAgaintheFirstTime">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Chromie_AetherCannon.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ChromieSandBlastOnceAgainTheFirstTimeQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="DeepBreathing">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Chromie_SandStrike.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ChromieDragonsBreathDeepBreathingQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="TissueRegeneration">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_dehaka_essencecollection.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DehakaEssenceCollectionTissueRegenerationQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="EnhancedAgility">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_dehaka_brushstalker.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DehakaEssenceCollectionEnhancedAgilityQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="WillofCho">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_cho_ogrehide_var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ChoWillofChoTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ProtectorOfAiur">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroArtanis"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_damage.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ArtanisProtectorOfAiurQuestTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Clear">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_medic_displacementgrenade.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MedicClearTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Insight">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_monk_trait_insight.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MonkInsightQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Convection">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_kaelthas_flamestrike.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="KaelthasFlamestrikeConvectionQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ManaAddict">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroKaelthas"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_kaelthas_manaaddict.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="KaelthasManaAddictQuestToken" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="UnfurlingShadows">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_sylvanas_shadowdagger.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="SylvanasShadowDaggerUnfurlingShadowsQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="EchooftheElements">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_thrall_chainlightning.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ThrallEchooftheElementsTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="CrashLightning">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_thrall_chainlightning_var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ThrallCrashLightningTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FingersofFrost">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroJaina"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_conjurerspursuit.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="JainaFingersOfFrostQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Greed">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_azmodan_globeofannihilation.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AzmodanGlobeOfAnnihilationGreedTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Gluttony">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_azmodan_globeofannihilation_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AzmodanGlobeOfAnnihilationGluttonyTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Wrath">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_azmodan_globeofannihilation_b.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="AzmodanGlobeOfAnnihilationWrathTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="AnubarakRegenMaster">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroAnubarak"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="HeroGenericRegenerationMasterQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FreshestIngredients">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_chen_fortifyingbrew.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ChenFreshestIngredientsTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FrostPresence">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Arthas_HowlingBlast.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ArthasFrostPresenceTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="EternalHunger">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Arthas_FrostmourneHungers_Off.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ArthasFrostmourneHungersEternalHungerQuestToken" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" MaxValue="10" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="UnendingHatred">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroIllidan"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_seasonedmarksman.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="IllidanUnendingHatredTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" MaxValue="20" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="BatteredAssault">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_illidan_sweepingstrike_a.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="IllidanSweepingStrikesDamageBuffNoStackingBatteredAssault" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="PerfectStorm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_muradin_stormbolt.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MuradinStormboltPerfectStormQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Widowmakers">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Nazeebo_CorpseSpider.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="WitchDoctorCorpseSpidersWidowmakersTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Pandemic">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Nazeebo_PlagueOfToads.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="WitchDoctorPlagueofToadsPandemicTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="LunarBlaze">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_tyrande_lunarflare.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TyrandeLunarFlareLunarBlazeTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SilverTouch">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_uther_holylight.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="UtherHolyLightSilverTouchArmor" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="WaveofLight">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_uther_holyradiance.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="UtherHolyRadianceWaveofLightQuestTokenBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="HammeroftheLightbringer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroUther"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_mana.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="UtherHammerOfTheLightbringerQuestTokenBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Shadowhunter">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_zeratul_blink.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ZeratulShadowHunterTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ProgRock">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_etc_guitarsolo_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ETCProgRockTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="GatheringStorm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_falstad_hammerang.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FalstadHammerangGatheringStormQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="DishonorableDischarge">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_falstad_lightningrod.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FalstadDishonorableDischargeToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FrequentFlyer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_falstad_tailwind_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FalstadFrequentFlyerTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SavortheFlavor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_devour.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="StitchesSavorTheFlavorTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="HungryforMore">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_hungry.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="StitchesHungryForMoreQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="StaticCharge">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_tassadar_rework_q_ray.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TassadarShockRayStaticChargeTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="KhaydarinAmulet">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_tassadar_rework_trait.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TassadarKhaydarinAmuletTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="VengefulRoots">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_malfurion_entanglingroots_b.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MalfurionVengefulRootsEntanglingRootsQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="DeepRoots">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_malfurion_entanglingroots.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MalfurionEntanglingRootsDeepRootsTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ThingOfTheDeep">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroWitchDoctor"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_elunesgrace.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="WitchDoctorThingOfTheDeepQuestToken" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ArdentRestorationForceDisplay">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTyrael"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="True" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TyraelArdentRestorationGlobeQuestHealingTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="TyraelArdentRestorationHeal" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ArdentRestorationQuestOnly">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTyrael"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="False"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TyraelArdentRestorationGlobeQuestHealingTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="True" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ArdentRestorationQuestAndBuff">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTyrael"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="TyraelArdentRestorationGlobeQuestHealingTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="TyraelArdentRestorationHeal" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ArdentRestorationBuffOnly">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTyrael"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="False"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="TyraelArdentRestorationHeal" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="FireAtWill">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_valla_multishot.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DemonHunterMultishotFireAtWillQuestTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PuncturingArrow">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_valla_hungeringarrow.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DemonHunterPuncturingArrowTalentQuestTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="LawsofHope">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_johanna_lawsofhope.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="CrusaderLawsOfHopeTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Stormcaller">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_rehgar_lightningshield.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="RehgarLightningShieldStormcallerTalentTokenCounter" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="CreedoftheHunterLoan">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_valla_hatred.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DemonHunterCreedoftheHunterTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/LoanStackCounterT1" Behavior="DemonHunterCreedoftheHunterLoanTokenCounter" />
        <Action type="SetState" frame="$parent/LoanStackProgressBarDummyT1" Group="LoanState" State="IsLoanTalent"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="VeteranMarksmanLoan">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_raynor_acquireweakspot.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="RaynorGiveEmSomePepperVeteranMarksmanQuestToken" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/LoanStackCounterT1" Behavior="RaynorGiveEmSomePepperVeteranMarksmanLoanToken" />
        <Action type="SetState" frame="$parent/LoanStackProgressBarDummyT1" Group="LoanState" State="IsLoanTalent"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="DivineFortressLoan">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_block.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="True"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroCrusader"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="CrusaderDivineFortressArmorBuff" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/LoanStackCounterT1" Behavior="CrusaderDivineFortressInstantTokenCounter" />
        <Action type="SetState" frame="$parent/LoanStackProgressBarDummyT1" Group="LoanState" State="IsLoanTalent"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FuriousBlows">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_sonya_seismicslam.dds"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="BarbarianFuriousBlowsTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" MinValue="1" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" MaxValue="4" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PatchworkCreation">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_patchwork.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="StitchesPatchworkCreationArmorBehavior" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ForceArmor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_wizard_magicmissiles.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="WizardForceArmorBlock" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FishyDeal">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroMurky"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_bribe.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="MurkyAFishyDealTokenCounter" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PixieCharm">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroFaerieDragon"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_bribe.dds"/> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="FaerieDragonPixieCharm" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="MightoftheBansheeQueen">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_sylvanas_witheringfire.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="SylvanasMightOfTheBansheeQueenWitheringFireAttackSpeedAndAbilityPowerBuff" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="SylvanasMightOfTheBansheeQueenWitheringFireAttackSpeedAndAbilityPowerBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ArtanisReactiveParry">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_artanis_doubleslash_on.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="ArtanisReactiveParryBlock" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ToughAsNails">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroBarbarian"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_block.dds"/>
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="BarbarianToughAsNailsChargedArmorBehavior" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="BarbarianToughAsNailsChargedCountdown" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FieldStudy">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_deckard_scroll_of_sealing_a.dds"/>
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT1/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="DeckardFieldStudyBuff" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1/BehaviorIcon/StackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="DeckardFieldStudyBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FinishingTouch">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_nexushunter_passive.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="NexusHunterFinishingTouchAttackSpeed" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="PowerHungry">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroWizard"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_powerhungry.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="WizardPowerHungryBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Dauntless">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroYrel"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_talent_abilitytalent_armor.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="YrelDauntlessArmorBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="BlowEmUp">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroJunkrat"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_junkrat_trap_mine.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="JunkratConcussionMineBlowEmUpBonusDamageBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="DwarfBlock">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroMuradin"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon1/IconImage" texture="Assets\Textures\storm_ui_icon_Muradin_Dwarftoss.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T1QuestControllerFrame" Visible="False"/>
        <When type="Property" frame="$Talent1MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="TalentBucketBlock" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT1" Visible="False" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT1" Visible="False" />
        <Action type="SetProperty" frame="$parent/LoanStackCounterT1" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/LoanStackCounterT1" Visible="False" />
        <Action type="SetState" frame="$parent/LoanStackProgressBarDummyT1" Group="LoanState" State="IsNotLoanTalent"/>
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
    </StateGroup>
    <StateGroup name="UsesTokens">
      <DefaultState val="False"/>
      <State name="True"/>
      <State name="False"/>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT2">
    <Anchor relative="$parent"/>
    <StateGroup name="T2TalentState">
      <DefaultState val="NoState" />
      <State name="BruteForce">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_hogger_combo_q_d.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="HoggerStaggeringBlowBruteForceTalentTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="GiveMeTwenty">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Zarya_ShieldAlly.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ZaryaShieldAllyGiveMeTwentyQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FrostwolfPack">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_thrall_feralspirit_var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ThrallFrostwolfPackTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="IntheRhythm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_tychus_minigun.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="TychusMinigunInTheRhythmVisualToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="MasterAssassin">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTychus"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_speed.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="TychusMasterAssassinQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="FrozenWastes">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Arthas_FrosenTempest.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ArthasFrozenWastesQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SharpenedBlades">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_kerrigan_ravage.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="KerriganRavageSharpenedBladesTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <!-- <State name="KineticFulmination">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_kerrigan_impalingblades.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="KerriganImpalingBladesKineticFulminationTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State> -->
      <State name="PinDown">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_maiev_knives.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="MaievFanOfKnivesPinDownQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="TasteForExplosions">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_junkrat_frag_launcher.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="JunkratFragLauncherTasteForExplosionsTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Phylactery">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_kel'thuzad_phylactery.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="KelThuzadPhylacteryQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="BlackHarvest">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Malthael_ReapersMark.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="MalthaelReapersMarkBlackHarvestCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ShurikenMastery">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_genji_Shurikens.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="GenjiShurikenShurikenMasteryTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Subwoofer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Lucio_Soundwave.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="LucioSoundwaveSubwooferTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="CatchingFire">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_ragnaros_catchingfire.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="RagnarosCatchingFireTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="ChaosReigns">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_discordstrike.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="AlarakDiscordStrikeChaosReignsTalentDamageTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="NegativelyCharged">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_lightningsurge.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="AlarakLightningSurgeNegativelyChargedTalentTokenCounter" />
        <Action type="ApplyTemplate" frame="$parent/QuestStackCounterT2/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="RepeatedOffense">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_auriel_restrainingblow_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="AurielDetainmentStrikeRepeatedOffenseQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Jailors">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_necromancer_raiseskeleton.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="NecromancerBonePrisonJailorsQuestTokenBehavior" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="HunterGatherer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroRexxar"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_talent_regenerationmaster.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="RexxarHunterGathererRexxarTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="AnimalHusbandry">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Rexxar_StayinAlive.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="RexxarAnimalHusbandryTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SerratedSpines">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroZagara"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_damage.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ZagaraSerratedSpinesQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SlimeTime">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_murky_slime.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="MurkySlimeTimeTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="LivingtheDream">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_Murky_Trait_SpawnEgg_Var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="MurkyLivingTheDreamQuestToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="BehemothArmor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_raynor_hulkarmor.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="RaynorBehemothArmorTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="PiercingLight">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_anduin_chastise_a.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="AnduinChastisePiercingLightTalentTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Subdue">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_johanna_punish.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T2QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="JohannaSubdueDummyTokenCount" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="SearedFlesh">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroCho"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_damage.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ChoSearedFleshTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="YourPainMyGain">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_nexushunter_passive.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="NexusHunterBloodRageYourPainMyGainBehavior" /> 
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
        <!-- <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/> -->
      </State>
      <State name="ShowofForce">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_sadism.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="AlarakShowofForceSadismTalentStack" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="IcyTalons">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_arthas_frosentempest_a.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="ArthasFrozenTempestIcyTalonsTalentAttackSpeedBuff" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="HolyFire">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_uther_holyfire.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="UtherHolyFireToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="UnwaveringFaith">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_whitemane_desperation.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="WhitemaneZealTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Martyrdom">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_whitemane_desperation_alt_1.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="WhitemaneZealTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Indulgence">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_whitemane_zeal.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="WhitemaneZealTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="CovertMission">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroNova"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_talent_bribe.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="NovaCovertMissionTokenCounter" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="TwinBlades">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_varian_twinbladesoffury.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="VarianTwinBladesOfFuryCasterMoveSpeed" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Heatwave">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_deathwing_heat_wave.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="DeathwingHeatWaveToken" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Visible="False" /> 
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="DeathwingHeatWaveBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
        <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
      </State>
      <State name="ReflexiveBlock">
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroIllidan"/>
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent2MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon2/IconImage" texture="Assets\Textures\storm_ui_icon_illidan_dive.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="TalentBucketBlock" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="TalentBucketBlock" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT2" Visible="False" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT2" Visible="False" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
    </StateGroup>
    <StateGroup name="UsesTokens">
      <DefaultState val="False"/>
      <State name="True"/>
      <State name="False"/>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT3">
    <Anchor relative="$parent"/>
    <StateGroup name="T3TalentState">
      <DefaultState val="NoState" />
      <State name="BileDrop">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_zagara_infesteddrop.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="ZagaraInfestedDropBileDropQuestToken" />
      </State>
      <State name="MaelstromWeapon">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_thrall_windfury.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="ThrallMaelstromWeaponTokenCounter" />
        <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
      </State>
      <State name="IncendiaryElixir">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_Greymane_QAttack.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="GreymaneGilneanCocktailIncendiaryElixirQuestToken" />
      </State>
      <State name="WizenedDuelist">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_greymane_curseoftheworgen_var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="GreymaneWizenedDuelistQuestToken" />
      </State>
      <State name="ArcaniteAxes">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_zuljin_twincleave.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="ZuljinTwinCleaveArcaniteAxesTokenCounter" />
        <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/>
      </State>
      <State name="FatalFinesse">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_valeera_bladeflurry.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="ValeeraFatalFinesseQuestToken" />
      </State>
      <State name="RavenousHunger">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_orphea_w_2.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="OrpheaRavenousHungerToken" />
      </State>
      <State name="MindDevourer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_orphea_e.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="OrpheaMindDevourerToken" />
      </State>
      <State name="Unbound">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_illidan_sweepingstrike.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="IllidanSweepingStrikeUnboundQuestToken" />
      </State>
      <State name="SecondHelpingLoan">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_devour.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="StitchesDevourSecondHelpingTalentTokenCounter" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/$parent/LoanStackCounterT3" Behavior="StitchesDevourSecondHelpingTalentTokenCounter" />
        <Action type="SetState" frame="$parent/$parent/LoanStackProgressBarDummyT3" Group="LoanState" State="IsLoanTalent"/>
      </State>
      <State name="DehakaFeedingFrenzyLoan">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_dehaka_drag.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T3QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="DehakaFeedingFrenzyTalentTokenCounter" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar" Visible="False" />
        <Action type="SetProperty" frame="$parent/$parent/LoanStackCounterT3" Behavior="DehakaFeedingFrenzyTalentTokenCounter" />
        <Action type="SetState" frame="$parent/$parent/LoanStackProgressBarDummyT3" Group="LoanState" State="IsLoanTalent"/>
      </State>
      <State name="DragonHungers">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent3MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_hanzo_draconicadvantage.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="HanzoTheDragonHungers" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="CrushingBlows">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent3MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_samuro_criticalstrike_b.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="SamuroCriticalStrikeCrushingBlowsTalentBuff" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="ElunesWrath">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent3MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon3/IconImage" texture="Assets\Textures\storm_ui_icon_maiev_knives.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="MaievFanOfKnivesElunesWrathAvailable" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" />
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$parent" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent" Visible="False" />
        <Action type="SetProperty" frame="$parent/$parent/LoanStackCounterT3" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/$parent/LoanStackCounterT3" Visible="False" />
        <Action type="SetState" frame="$parent/$parent/LoanStackProgressBarDummyT3" Group="LoanState" State="IsNotLoanTalent"/>
      </State>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT4">
    <Anchor relative="$parent"/>
    <StateGroup name="T4TalentState">
      <DefaultState val="NoState" />
      <State name="LastRites">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_Malthael_LastRites.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T4QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="MalthaelLastRitesQuestCooldownToken" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="Monstrosity">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="StateGroup" frame="$parent/HeroicActiveValidatorFrame" AnimState="AbathurHasActiveMonstrosity"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_abathur_evolvemonstrosity.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T4QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="AbathurEvolveMonstrosityAbathurStack" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="True"/>
      </State>
      <State name="MonstrosityNotActive">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_abathur_evolvemonstrosity.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T4QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="NULL" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="AnubarakLocustSwarm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_Anubarak_LocustSwarm.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="AnubarakLocustSwarmActive" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="BlazeCombustion">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_blaze_combustion.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="FirebatCombustionChannel" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4/BehaviorIcon/CooldownBar" InvertFill="True" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="StormEarthFire">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_chen_stormearthfire.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="StormEarthFireCasterBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="WanderingKeg">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_chen_wanderingkeg.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="ChenWanderingKegArmorBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="LightningBreath">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_diablo_lightningbreath.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="DiabloLightningBreathController" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="BunnyHop">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroDVaMech"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_dva_bunnyhop.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="DVaBunnyHopDuration" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Moshpit">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_ETC_MoshPit.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="L90ETCMoshPitChannel" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="AngelicArmaments">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_imperius_r1.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="ImperiusAngelicArmamentsShieldBehavior" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4/BehaviorIcon/CooldownBar" InvertFill="True" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="TwistingNether">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_gall_twistingnether_a.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" eBehavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="GallTwistingNetherChannelingBehavior" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4/BehaviorIcon/CooldownBar" InvertFill="True" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="LongboatRaid">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_lostvikings_longboatraid.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="LongboatRaidTimedLife" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <!-- <State name="RavenousSpirit">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_Nazeebo_RavenousSpirit.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="WitchDoctorRavenousSpiritPersistent" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State> -->
      <State name="WrathoftheBerserker">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_sonya_wrathoftheberserker.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="BarbarianWrathoftheBerserkerBase" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Strafe">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_valla_strafe.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="Strafe" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="TassadarArchon">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="StateGroup" frame="$parent/HeroicActiveValidatorFrame" AnimState="HasTassadarArchon"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_tassadar_archon.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="TassadarArchon" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="TassadarTwilightArchon">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="StateGroup" frame="$parent/HeroicActiveValidatorFrame" AnimState="HasTassadarTwilightArchonBehavior"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_tassadar_archon.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="ArchonTwilightArchon" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="KerriganMaelstrom">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_kerrigan_maelstrom.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="KerriganMaelstrom" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="GoForTheThroat">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_Greymane_GoForTheThroat.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="GreymaneFreeGoForTheThroat" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Adaption">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_dehaka_adaptation.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="DehakaAdaptationDamageTrackerBehavior" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4/BehaviorIcon/CooldownBar" InvertFill="True" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Avatar">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_Muradin_Avatar.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="MuradinAvatarHealthBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="ArdentDefender">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_yrel_ardent_defender.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="YrelArdentDefenderDamageTracker" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Metamorphosis">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_illidan_metamorphosis.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="IllidanMetamorphosisDoubleDummyHealth" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Tranquility">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_malfurion_tranquility.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="TranquilityBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Bloodlust">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_rehgar_bloodlust.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="RehgarBloodlustBasicAttackBuff" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Shadowstalk">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_tyrande_shadowstalk.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="TyrandeShadowstalkHealBehavior" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Odin">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_tychus_commandeerodin.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="TychusOdin" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Dragonblade">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_genji_dragonblade.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="GenjiDragonbladeActive" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="Tazdingo">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent4MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon4/IconImage" texture="Assets\Textures\storm_ui_icon_zuljin_tazdingo.dds"/>
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="ZuljinTazdingoUnkillable" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/QuestStackCounterT4" Visible="False" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4/BehaviorIcon/CooldownBar" InvertFill="False" />
        <Action type="SetProperty" frame="$parent/BuffDurationT4" Visible="False" />
        <Action type="SetState" frame="$this" Group="UsesTokens" State="False"/>
      </State>
    </StateGroup>
    <StateGroup name="UsesTokens">
      <DefaultState val="False"/>
      <State name="True"/>
      <State name="False"/>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT5">
    <Anchor relative="$parent"/>
    <StateGroup name="T5TalentState">
      <DefaultState val="NoState" />
      <State name="DevastatingCharge">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_diablo_shadowcharge_var1.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T5QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="DiabloShadowChargeDevastatingChargeTalentTokenCounter" /> 
      </State>
      <State name="Untouchable">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_tracer_combo_q_trait.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T5QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="TracerUntouchableQuestToken" /> 
      </State>
      <State name="UnderPressure">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_underpressure.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T5QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="StitchesSlamUnderPressureTalentTokenCounter" /> 
      </State>
      <State name="GrillnKill">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_blaze_oil.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T5QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="FirebatOilSpillGrillAndKillQuestToken" />
      </State>
      <State name="MeatHook">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_hook.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="StitchesHookMeatHookTalentHoT" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="ChopChop">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_chopchop.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="StitchesShamblingHorrorChopChopTalentBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BladeoftheHighlord">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_sadism.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="AlarakSadismBladeoftheHighlordTalentStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="PureMalice">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_sadism_a.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="AlarakSadismPureMaliceTalentStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="TheHunted">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_nexushunter_passive.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="NexusHunterTheHuntedToken" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <!-- <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/> -->
      </State>
      <State name="FleetofFoot">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_hanzo_stormbow.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="HanzoFleetofFootMovementSpeed" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
        <!-- <Action type="ApplyTemplate" frame="$parent/VisiblityControllerFrame" template="SpazzoCustomTopBarQuests/VisibityControllerFrameDontHideAtCompletion"/> -->
      </State>
      <State name="RapidHarvest">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_Necromancer_CursedStrikes_Off.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="NecromancerCursedStrikesRapidHarvestAttackSpeedBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BronzebreadRage">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroMuradin"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_Talent_BurningRage.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="MuradinBronzebeardRageCCDamageBoost" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="HolyFury">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroCrusader"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_Talent_BurningRage.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="CrusaderHolyFuryTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BrutalStrike">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_Butcher_Hamstring.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="ButcherHamstringBrutalStrikeTalentStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="Cruelty">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_diablo_combo_1.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DiabloShadowChargeOverpowerCrueltyAttackSpeedBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="Hellfire">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_diablo_firestomp.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DiabloFireStompHellfireTalentTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="Thunderstrikes">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_falstad_lightningrod.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="FalstadThunderstrikesTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <!-- <State name="TemperedbyDiscipline">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_valla_hatred.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DemonHunterTemperedByDisciplineTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State> -->
      <State name="GloomArmor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_valla_hatred_var1.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DemonHunterGloomTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="DireBeast">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_rexxar_mishacharge.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="RexxarDireBeastTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BladedArmor">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_maiev_knives.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="MaievFanOfKnivesBladedArmorArmor" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BlessedHammer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent5MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_btn_d3ros_crusader_blessedhammer.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="CrusaderBlessedHammerWeaponTokenCounter" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <!-- Removed till think of a solution to split behavior -->
      <!-- <State name="RiteofRakshir">
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_alarak_sadism_b.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T5QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="AlarakSadismRiteofRakShirTalentDiscordStrikeStack" /> 
      </State> -->
      <State name="NoState">
        <Action type="SetProperty" frame="$parent" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent" Visible="False" />
      </State>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT6">
    <Anchor relative="$parent"/>
    <StateGroup name="T6TalentState">
      <DefaultState val="NoState" />
      <State name="Thunderstorm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_thrall_chainlightning.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T6QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="ThrallThunderstormTokenCounter" /> 
      </State>
      <State name="MithrilMace">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroLeoric"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_speed.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T6QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="LeoricMithrilMaceTokenCounter" /> 
      </State>
      <State name="ReservoirofHope">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_auriel_rayofheaven.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T6QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="AurielRayOfHeavenReservoirOfHopeQuestToken" /> 
      </State>
      <State name="BlessedMomentum">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_cooldown.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="CrusaderBlessedMomentumAttackSpeedBehavior" /> 
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroCrusader"/>
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="ShiftingSands">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_Chromie_AetherCannon.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="ChromieSandBlastShiftingSandsBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="SteadyBlade">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_genji_swiftstrike_a.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="GenjiSwiftStrikeSteadyBladeTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="MountingPotency">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_kerrigan_ravage.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="KerriganRavageMountingPotencySpellPowerBehavior" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="SoulHarvest">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_Nazeebo_SoulHarvest.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="WitchDoctorSoulHarvestStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="PowerofIcecrown">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_kel'thuzad_poweroficecrown.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="KelThuzadPowerOfIcecrown" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="RisingStorm">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_rehgar_lightningshield.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="RehgarLightningShieldRisingStormTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <!-- <State name="Fanaticism">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon5/IconImage" texture="Assets\Textures\storm_ui_icon_johanna_iron_skin.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="CrusaderIronSkinFanaticism" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State> -->
      <State name="LettheKillingBegin">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroZuljin"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_speed.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="ZuljinLetTheKillingBeginStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="DarnassianArchery">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroTyrande"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_damage.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="TyrandeDarnassianArcheryTalentTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="Sharpshooter">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_ana_healing_dart.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="AnaHealingDartSharpshooterTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="BloodFrenzy">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroButcher"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_talent_autoattack_speed.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="ButcherBloodFrenzyStack" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="InForTheKillMech">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroDVaMech"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_dva_boosters.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DVaBoostersInForTheKillTalentBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="InForTheKillPilot">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]" Unit="HeroDVaPilot"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_dva_boosters.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="DVaBoostersInForTheKillTalentBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="VengefulKnives">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent6MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon6/IconImage" texture="Assets\Textures\storm_ui_icon_maiev_knives.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="MaievSpiritOfVengeanceVengefulKnivesToken" />
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="NoState">
        <Action type="SetProperty" frame="$parent" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent" Visible="False" />
      </State>
    </StateGroup>
  </Frame>
  <Frame type="Frame" name="StateControllerFrameT7">
    <Anchor relative="$parent"/>
    <StateGroup name="T7TalentState">
      <DefaultState val="NoState" />
      <State name="Zanshin">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_genji_deflect.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T7QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="GenjiDeflectZanshin" /> 
      </State> 
      <State name="WillofGall">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_gall_ogrerage.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T7QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="GallWillofGallTokenCounter" /> 
      </State>
      <State name="GiftfromtheEmbalmer">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_stitches_putridbile.dds"/>
        <When type="Property" frame="$ancestor[@type=UnitStatusFrame]/T7QuestControllerFrame" Visible="True"/>
        <Action type="SetProperty" frame="$parent" Behavior="StitchesPutridBileGiftFromTheEmbalmerTalentTokenCounter" /> 
      </State> 
      <State name="LunarShower">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent7MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_malfurion_moonfire.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="MalfurionMoonfireLunarShowerTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State> 
      <State name="AnnihilatingSpirits">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent7MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_Nazeebo_RavenousSpirit.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="WitchDoctorRavenousSpiritAnnihilatingSpiritTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="EldritchConduit">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent7MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_orphea_trait.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="OrpheaEldritchConduit" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <State name="PitFighter">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent7MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_ingame_heroselect_btn_rehgar.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="RehgarPitFighterTokenCounter" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State>
      <!-- <State name="NoControl">
        <When type="StateGroup" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" TextureState="TierSelected"/>
        <When type="Property" frame="$Talent7MasterSetting/ShowNonQuests/CheckBoxButton" Toggled="True"/>
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/BottomPanelDetector" Text="False" />
        <When type="Property" frame="$ancestor[@name=DummyAncestorRelationFrame]/$parent/HeroSelectedTalentTreeFrame/TalentTreeIcon7/IconImage" texture="Assets\Textures\storm_ui_icon_orphea_trait.dds"/>
        <Action type="SetProperty" frame="$parent" Behavior="HoggerNoControlCasterBuff" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackLabel" Style="Spazzo_TopPanelQuestLabel_NotQuest" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" AdjustmentColor="255,200,200,200" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" Alpha="130" /> 
        <Action type="SetProperty" frame="$parent/BehaviorIcon/StackProgressBar/FillImageContainer/FillImage" ColorAdjustMode="Fill" /> 
      </State> -->
      <State name="NoState">
        <Action type="SetProperty" frame="$parent" Behavior="NULL" />
        <Action type="SetProperty" frame="$parent" Visible="False" />
      </State>
    </StateGroup>
  </Frame>
</Desc>